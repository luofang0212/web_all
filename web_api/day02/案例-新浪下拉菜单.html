<!DOCTYPE html>
<html lang="zh">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta http-equiv="X-UA-Compatible" content="ie=edge">
		<title>新浪下拉菜单</title>
		<style>
			* {
				margin: 0;
				padding: 0;
			}

			a {
				text-decoration: none;
			}

			li {
				list-style: none;
			}

			.nav_box {
				width: 500px;
				margin: 40px auto;
			}

			.nav>li {
				float: left;
				margin-right: 14px;
				width: 100px;
				text-align: center;
			}

			.nav>li a {
				display: block;
				width: 100%;
				height: 38px;
				line-height: 38px;
				color: #333;
			}

			.nav>li a:hover {
				background-color: rgba(176, 196, 222, 0.3);
			}

			.nav>li ul {
				display: none;
			}

			.nav>li li {
				width: 100%;
				height: 38px;
				border: 1px solid #FECC5B;
				line-height: 38px;
				cursor: default;
			}

			.nav>li li:hover {
				background-color: rgba(254, 204, 91, 0.3);
			}
		</style>
	</head>
	<body>
		<div class="nav_box">
			<ul class="nav">
				<li>
					<a href="javascript:;">微博</a>
					<ul>
						<li>私信</li>
						<li>评论</li>
						<li>@我</li>
					</ul>
				</li>
				<li>
					<a href="javascript:;">微博</a>
					<ul>
						<li>私信</li>
						<li>评论</li>
						<li>@我</li>
					</ul>
				</li>
				<li>
					<a href="javascript:;">微博</a>
					<ul>
						<li>私信</li>
						<li>评论</li>
						<li>@我</li>
					</ul>
				</li>
			</ul>
		</div>
		<script type="text/javascript">
			/* 案例分析
		1. 鼠标经过li标签，则显示当前菜单下拉框ul 其他菜单隐藏
		2. 事件：鼠标经过 onmouseover，鼠标移开，隐藏
		*/

			// 1.获取元素
			var lis = document.querySelectorAll('.nav>li');
			
			for (var i = 0; i < lis.length; i++) {
				// 2. 给所有a绑定事件:鼠标经过 onmouseover
				lis[i].addEventListener('mouseover', function() {
					// 利用排他思想，先将所有下拉菜单隐藏
					for (var i = 0; i < lis.length; i++) {
						childs = lis[i].children;
						childs[1].style.display = 'none';
					}
					childs = this.children; // 获取到所有当前li下的所有孩子
					ul = childs[1]; // 找到ul所在的位置
					ul.style.display = 'block';
				});
				
				// 3. 给所有a绑定事件:鼠标经过 onmouseover
				lis[i].addEventListener('mouseout', function() {
					childs = this.children; // 获取到所有当前li下的所有孩子
					ul = childs[1]; // 找到ul所在的位置
					ul.style.display = 'none';
				});
			}
			
			
		</script>
	</body>
</html>
