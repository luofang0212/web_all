<!DOCTYPE html>
<html lang="zh">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta http-equiv="X-UA-Compatible" content="ie=edge">
		<title>发送短信倒计时</title>
		<style>
			* {
				margin: 0;
				padding: 0;
			}

			input {
				width: 200px;
				height: 28px;
			}

			button {
				outline: none;
				width: 80px;
				height: 28px;
				font-size: 14px;
				line-height: 28px;
				border: none;
				color: #fff;
				background-color: #0093D9;
			}

			.send {
				width: 150px;
				background-color: #ccc;
				color: #999;
				cursor: no-drop;
			}
		</style>
	</head>
	<body>
		<input type="text" />
		<button type="button">发送</button>
		<script>
			// 点击按钮后，该按钮60秒之内不能再次点击，防止重复发送短信
			var button = document.querySelector('button');
			var times = 10;
			var flag = true;
			button.addEventListener('click', function() {
				button.disabled = true;
				console.log(111);
				var timer = setInterval(function() {
					if (times == 0 && flag == true) {
						clearInterval(timer);
						button.disabled = false;
						flag = false;
						button.innerHTML = '发送';
						button.className = '';
						times = 10;
					} else {
						// button.disabled = true;
						button.innerHTML = "重新发送验证码 " + times + 's';
						button.className = 'send';
						flag = true;
						times--;
					}
				}, 1000);
			});
		</script>
	</body>
</html>
